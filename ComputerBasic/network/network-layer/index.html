<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>网络层 | 代码推演录</title><meta name="author" content="Aquarius"><meta name="copyright" content="Aquarius"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="一、网络基础OSI 七层&#x3D;&#x3D;第7层 应用层&#x3D;&#x3D; 应用层（Application Layer）提供为应用软件而设的接口，以设置与另一应用软件之间的通信。例如:HTTP、HTTPS、FTP、TELNET、SSH、SMTP、POP3、MySQL等 &#x3D;&#x3D;第6层 表示层&#x3D;&#x3D; 主条目：表示层（Presentation Layer）">
<meta property="og:type" content="article">
<meta property="og:title" content="网络层">
<meta property="og:url" content="https://aquapluto.github.io/ComputerBasic/network/network-layer/">
<meta property="og:site_name" content="代码推演录">
<meta property="og:description" content="一、网络基础OSI 七层&#x3D;&#x3D;第7层 应用层&#x3D;&#x3D; 应用层（Application Layer）提供为应用软件而设的接口，以设置与另一应用软件之间的通信。例如:HTTP、HTTPS、FTP、TELNET、SSH、SMTP、POP3、MySQL等 &#x3D;&#x3D;第6层 表示层&#x3D;&#x3D; 主条目：表示层（Presentation Layer）">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://aquapluto.github.io/img/paper2.jpg">
<meta property="article:published_time" content="2025-08-21T02:43:22.000Z">
<meta property="article:modified_time" content="2025-08-28T12:33:05.389Z">
<meta property="article:author" content="Aquarius">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aquapluto.github.io/img/paper2.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "网络层",
  "url": "https://aquapluto.github.io/ComputerBasic/network/network-layer/",
  "image": "https://aquapluto.github.io/img/paper2.jpg",
  "datePublished": "2025-08-21T02:43:22.000Z",
  "dateModified": "2025-08-28T12:33:05.389Z",
  "author": [
    {
      "@type": "Person",
      "name": "Aquarius",
      "url": "https://AquaPluto.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://aquapluto.github.io/ComputerBasic/network/network-layer/"><link rel="preconnect" href="//unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '网络层',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/wave.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">138</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><!-- 一级菜单项（非目录）--><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>计算机基础</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>计算机组成原理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/hardware-composition/"><span>计算机硬件组成</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/CPU/"><span>CPU</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/memory/"><span>内存</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/hard-disk/"><span>硬盘</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>操作系统</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/concept/"><span>操作系统的概念</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/processes-threads/"><span>进程与线程</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/IO-model/"><span>IO模型</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Linux</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>linux基础</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/introduce/"><span>linux介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/file-structure-and-IO-redirects/"><span>文件结构与IO重定向</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/file-command/"><span>文件管理工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/text-command/"><span>文本管理工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/GSA/"><span>文本处理三剑客</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/user-permission/"><span>用户和权限管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/regular-expression/"><span>正则表达式</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/software-manage/"><span>软件包管理</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>进程管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/command/"><span>进程相关命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/signal/"><span>信号发送</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/job-parallel/"><span>作业管理与并行运行</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/OOM/"><span>OOM</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>磁盘管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/disk-partition/"><span>磁盘分区</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/file-system/"><span>文件系统</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/swap/"><span>Swap分区</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/LVM/"><span>逻辑卷管理器LVM</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>网络管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/configuration/"><span>网络配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/test-diagnostic/"><span>网络测试诊断工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/bridge/"><span>网桥配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/troubleshoot/"><span>网络问题排查</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>服务管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/DNS/"><span>域名DNS解析服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/time-synchronization/"><span>时间同步服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/plan-tasks/"><span>计划任务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/log/"><span>日志服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/data-synchronization/"><span>数据的实时同步</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/ssh/"><span>ssh远程连接服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/mail/"><span>邮件服务</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/kernel-manage/"><span>内核和启动管理</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>防火墙</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/introduce/"><span>安全技术和防火墙</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/iptables/"><span>iptables</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/firewalld/"><span>firewalld</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/nft/"><span>nft</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>加密和安全</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/security-mechanisms/"><span>安全机制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/OpenSSL/"><span>OpenSSL</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/sudo/"><span>sudo实现授权</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/PAM/"><span>PAM认证机制</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>shell编程</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/introduce/"><span>shell脚本介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/variable/"><span>变量</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/operations-conditional/"><span>运算和条件测试</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/process-control/"><span>流程控制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/function/"><span>函数</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/array/"><span>数组</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/string/"><span>字符串</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/script-tools/"><span>脚本相关工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/process-lock/"><span>进程锁</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/queue/"><span>队列实现线程并发控制</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/system-optimization/"><span>系统优化</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>数据库</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>MySQL</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/DataBase/MySQL/SQL/"><span>SQL语句</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Redis</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/DataBase/Redis/deploy/"><span>部署安装</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>中间件</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Nginx</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Nginx/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>HAProxy</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/HAProxy/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Keepalived</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Keepalived/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Kafka</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Kafka/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Tomcat</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Tomcat/111/"><span>111</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>日志</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/ELK/111/"><span>111</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>存储</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Storage/conspect/"><span>存储概论</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Storage/nfs/"><span>NFS</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>容器</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/basics/"><span>容器基础</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Docker</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/conspect/"><span>Docker概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/image/"><span>镜像管理命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/container/"><span>容器管理命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/volume/"><span>数据卷</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/network/"><span>网络管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/compose/"><span>Docker-Compose</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>镜像</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/conspect/"><span>镜像概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/dockerfile/"><span>dockerfile</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/build/"><span>构建镜像</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/harbor/"><span>镜像仓库</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>容器进程</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/management/"><span>容器里的进程管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/cpu-cgroup/"><span>cpu cgroup使用</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/cpu-usage/"><span>监控容器真实的cpu使用率</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/memory/"><span>容器内存</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/storage/"><span>容器存储</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/network/"><span>容器网络</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/safe/"><span>容器安全</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/containerd/"><span>Containerd</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>K8s</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Kubernetes概论</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/architecture/"><span>Kubernetes架构</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/cri/"><span>容器运行时接口CRI</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/list-watch/"><span>List-Watch机制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/object/"><span>Kubernetes对象</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/namespace/"><span>Namespace</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/kubectl/"><span>kubectl命令</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>部署安装</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/explanation/"><span>部署说明</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/docker/"><span>基于docker部署k8s-v1.30</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/containerd/"><span>基于containerd部署k8s-v1.30</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/cluster/"><span>集群管理指南</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Pod</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/conspect/"><span>Pod概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/configuration/"><span>Pod的配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/schedule/"><span>Pod的调度</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/eviction/"><span>Pod的驱逐</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>控制器</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/introduce/"><span>控制器介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/deployment/"><span>Deployment</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/statefulset/"><span>StatefulSet</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/daemonset/"><span>DaemonSet</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/job-cronjob/"><span>Job和CronJob</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/HPA/"><span>HPA</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/operator/"><span>Operator</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>服务发现与负载均衡</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/service/"><span>Service</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/ingress/"><span>Ingress</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/coredns/"><span>CoreDNS</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/localdns/"><span>LocalDNS</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>数据存储持久化</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/csi/"><span>存储接口CSI</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/pv-pvc/"><span>PV和PVC</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/storageclass/"><span>StorageClass</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/configmap-secret/"><span>ConfigMap和Secret</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>认证与鉴权体系</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/conspect/"><span>体系概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/kubeconfig/"><span>kubeconfig</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/user-account/"><span>User Account</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/service-account/"><span>Service Account</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>监控</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/conspect/"><span>监控概论</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Prometheus</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/introduce/"><span>prometheus概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/exporter/"><span>Exporter</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/promql/"><span>PromQL</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/query-persist/"><span>查询结果持久化</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/service-discovery/"><span>服务发现</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/indicators-remarked/"><span>指标重新打标</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/pushmanager/"><span>Pushmanager</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/cluster-ha/"><span>集群与高可用</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Alertmanager</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/introduce/"><span>告警功能概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/alarm/"><span>实现告警功能</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/ha/"><span>高可用架构</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/grafana/"><span>Grafana</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/streaming/"><span>基于流处理的可观测性架构</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>CICD</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Ansible</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/introduce/"><span>架构概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/command/"><span>相关命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/module/"><span>常用模块</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/playbook/"><span>PlayBook</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>SRE</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/SRE/111/"><span>111</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Python</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>python基础</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>线性表</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>列表</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>元组</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>字符串</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>哈希表</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>封装与解构</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>集合</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>字典</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>解析式与生成器表达式</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>函数</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>IO操作</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>面向对象编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>并发编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>网络编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>数据库编程</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Django</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/ELK/111/"><span>111</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/paper2.jpg);"><nav id="nav"><!-- 左侧博客信息区域--><span id="blog-info"><a class="nav-site-title" href="/"></a><a class="nav-page-title" href="/"><span class="site-name">网络层</span></a></span><!-- 新增的导航菜单容器（居中布局关键）--><div id="nav-menus-container"><!-- 菜单主体部分--><div id="menus"><!-- 菜单项--><div class="menus_items"><!-- 一级菜单项（非目录）--><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>计算机基础</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>计算机组成原理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/hardware-composition/"><span>计算机硬件组成</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/CPU/"><span>CPU</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/memory/"><span>内存</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/computer-composition/hard-disk/"><span>硬盘</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>操作系统</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/concept/"><span>操作系统的概念</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/processes-threads/"><span>进程与线程</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/ComputerBasic/operating-system/IO-model/"><span>IO模型</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Linux</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>linux基础</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/introduce/"><span>linux介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/file-structure-and-IO-redirects/"><span>文件结构与IO重定向</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/file-command/"><span>文件管理工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/text-command/"><span>文本管理工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/GSA/"><span>文本处理三剑客</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/user-permission/"><span>用户和权限管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/basics/regular-expression/"><span>正则表达式</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/software-manage/"><span>软件包管理</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>进程管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/command/"><span>进程相关命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/signal/"><span>信号发送</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/job-parallel/"><span>作业管理与并行运行</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/process-manage/OOM/"><span>OOM</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>磁盘管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/disk-partition/"><span>磁盘分区</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/file-system/"><span>文件系统</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/swap/"><span>Swap分区</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/disk-manage/LVM/"><span>逻辑卷管理器LVM</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>网络管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/configuration/"><span>网络配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/test-diagnostic/"><span>网络测试诊断工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/bridge/"><span>网桥配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/network-manage/troubleshoot/"><span>网络问题排查</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>服务管理</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/DNS/"><span>域名DNS解析服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/time-synchronization/"><span>时间同步服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/plan-tasks/"><span>计划任务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/log/"><span>日志服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/data-synchronization/"><span>数据的实时同步</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/ssh/"><span>ssh远程连接服务</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/service-manage/mail/"><span>邮件服务</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/kernel-manage/"><span>内核和启动管理</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>防火墙</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/introduce/"><span>安全技术和防火墙</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/iptables/"><span>iptables</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/firewalld/"><span>firewalld</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/firewall/nft/"><span>nft</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>加密和安全</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/security-mechanisms/"><span>安全机制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/OpenSSL/"><span>OpenSSL</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/sudo/"><span>sudo实现授权</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/encryption-security/PAM/"><span>PAM认证机制</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>shell编程</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/introduce/"><span>shell脚本介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/variable/"><span>变量</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/operations-conditional/"><span>运算和条件测试</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/process-control/"><span>流程控制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/function/"><span>函数</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/array/"><span>数组</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/string/"><span>字符串</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/script-tools/"><span>脚本相关工具</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/process-lock/"><span>进程锁</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Linux/shell/queue/"><span>队列实现线程并发控制</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Linux/system-optimization/"><span>系统优化</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>数据库</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>MySQL</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/DataBase/MySQL/SQL/"><span>SQL语句</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Redis</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/DataBase/Redis/deploy/"><span>部署安装</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>中间件</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Nginx</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Nginx/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>HAProxy</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/HAProxy/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Keepalived</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Keepalived/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Kafka</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Kafka/111/"><span>111</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Tomcat</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Middleware/Tomcat/111/"><span>111</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>日志</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/ELK/111/"><span>111</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>存储</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Storage/conspect/"><span>存储概论</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Storage/nfs/"><span>NFS</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>容器</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/basics/"><span>容器基础</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Docker</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/conspect/"><span>Docker概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/image/"><span>镜像管理命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/container/"><span>容器管理命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/volume/"><span>数据卷</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/network/"><span>网络管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/docker/compose/"><span>Docker-Compose</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>镜像</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/conspect/"><span>镜像概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/dockerfile/"><span>dockerfile</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/build/"><span>构建镜像</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/mirror/harbor/"><span>镜像仓库</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>容器进程</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/management/"><span>容器里的进程管理</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/cpu-cgroup/"><span>cpu cgroup使用</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Container/process/cpu-usage/"><span>监控容器真实的cpu使用率</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/memory/"><span>容器内存</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/storage/"><span>容器存储</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/network/"><span>容器网络</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/safe/"><span>容器安全</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Container/containerd/"><span>Containerd</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>K8s</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Kubernetes概论</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/architecture/"><span>Kubernetes架构</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/cri/"><span>容器运行时接口CRI</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/list-watch/"><span>List-Watch机制</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/object/"><span>Kubernetes对象</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/namespace/"><span>Namespace</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/conspect/kubectl/"><span>kubectl命令</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>部署安装</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/explanation/"><span>部署说明</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/docker/"><span>基于docker部署k8s-v1.30</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/containerd/"><span>基于containerd部署k8s-v1.30</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/deploy/cluster/"><span>集群管理指南</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Pod</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/conspect/"><span>Pod概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/configuration/"><span>Pod的配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/schedule/"><span>Pod的调度</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/pod/eviction/"><span>Pod的驱逐</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>控制器</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/introduce/"><span>控制器介绍</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/deployment/"><span>Deployment</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/statefulset/"><span>StatefulSet</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/daemonset/"><span>DaemonSet</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/job-cronjob/"><span>Job和CronJob</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/HPA/"><span>HPA</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/controller/operator/"><span>Operator</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>服务发现与负载均衡</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/service/"><span>Service</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/ingress/"><span>Ingress</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/coredns/"><span>CoreDNS</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/service-loadbalancer/localdns/"><span>LocalDNS</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>数据存储持久化</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/csi/"><span>存储接口CSI</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/pv-pvc/"><span>PV和PVC</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/storageclass/"><span>StorageClass</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/data-storage/configmap-secret/"><span>ConfigMap和Secret</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>认证与鉴权体系</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/conspect/"><span>体系概论</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/kubeconfig/"><span>kubeconfig</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/user-account/"><span>User Account</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Kubernetes/certification-authentication/service-account/"><span>Service Account</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>监控</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/conspect/"><span>监控概论</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Prometheus</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/introduce/"><span>prometheus概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/exporter/"><span>Exporter</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/promql/"><span>PromQL</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/query-persist/"><span>查询结果持久化</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/service-discovery/"><span>服务发现</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/indicators-remarked/"><span>指标重新打标</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/pushmanager/"><span>Pushmanager</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/prometheus/cluster-ha/"><span>集群与高可用</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Alertmanager</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/introduce/"><span>告警功能概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/alarm/"><span>实现告警功能</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/Monitor/alertmanager/ha/"><span>高可用架构</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/grafana/"><span>Grafana</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/Monitor/streaming/"><span>基于流处理的可观测性架构</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>CICD</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>Ansible</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/introduce/"><span>架构概述</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/deploy/"><span>部署与配置</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/command/"><span>相关命令</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/module/"><span>常用模块</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/CICD/ansible/playbook/"><span>PlayBook</span></a></li></ul></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>SRE</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/SRE/111/"><span>111</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Python</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>python基础</span></a></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>线性表</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>列表</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>元组</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>字符串</span></a></li></ul></li><!-- 二级目录（包含三级菜单）--><li class="menus_item_second"><span class="site-page group second"><span>哈希表</span><i class="fas fa-chevron-right"></i></span><ul class="menus_item_child_second"><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>封装与解构</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>集合</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>字典</span></a></li><!-- 三级菜单项--><li><a class="site-page third" href="/python/111/"><span>解析式与生成器表达式</span></a></li></ul></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>函数</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>IO操作</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>面向对象编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>并发编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>网络编程</span></a></li><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/python/111/"><span>数据库编程</span></a></li></ul></div><!-- 一级目录（包含二级菜单）--><div class="menus_item"><span class="site-page group"><span>Django</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><!-- 二级菜单项（非目录）--><li><a class="site-page child" href="/ELK/111/"><span>111</span></a></li></ul></div></div></div></div><!-- 右侧功能区域（新增容器）--><div id="nav-right-container"><!-- 搜索按钮（移动到右侧）--><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></span></div><!-- 移动端汉堡菜单按钮--><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">网络层</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-21T02:43:22.000Z" title="发表于 2025-08-21 10:43">2025-08-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-28T12:33:05.389Z" title="更新于 2025-08-28 20:33">2025-08-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">8.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>30分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="一、网络基础"><a href="#一、网络基础" class="headerlink" title="一、网络基础"></a>一、网络基础</h1><h2 id="OSI-七层"><a href="#OSI-七层" class="headerlink" title="OSI 七层"></a>OSI 七层</h2><p>&#x3D;&#x3D;第7层 应用层&#x3D;&#x3D;</p>
<p>应用层（Application Layer）提供为应用软件而设的接口，以设置与另一应用软件之间的通信。例如:HTTP、HTTPS、FTP、TELNET、SSH、SMTP、POP3、MySQL等</p>
<p>&#x3D;&#x3D;第6层 表示层&#x3D;&#x3D;</p>
<p>主条目：表示层（Presentation Layer）把数据转换为能与接收者的系统格式兼容并适合传输的格式</p>
<p>&#x3D;&#x3D;第5层 会话层&#x3D;&#x3D;</p>
<p>会话层（Session Layer）负责在数据传输中设置和维护电脑网络中两台电脑之间的通信连接。</p>
<p>&#x3D;&#x3D;第4层 传输层&#x3D;&#x3D;</p>
<p>传输层（Transport Layer）把传输表头（TH）加至数据以形成数据包。传输表头包含了所使用的协议等发送信息。例如:传输控制协议（TCP）等。</p>
<p>&#x3D;&#x3D;第3层 网络层&#x3D;&#x3D;</p>
<p>网络层（Network Layer）决定数据的路径选择和转寄，将网络表头（NH）加至数据包，以形成报文。网络表头包含了网络数据。例如:互联网协议（IP）等。</p>
<p>&#x3D;&#x3D;第2层 数据链接层&#x3D;&#x3D;</p>
<p>数据链路层（Data Link Layer）负责网络寻址、错误侦测和改错。当表头和表尾被加至数据包时，会形成信息框（Data Frame）。数据链表头（DLH）是包含了物理地址和错误侦测及改错的方法。数据链表尾（DLT）是一串指示数据包末端的字符串。例如以太网、无线局域网（Wi-Fi）和通用分组无线服务（GPRS）等。分为两个子层：逻辑链路控制（logical link control，LLC）子层和介质访问控制（Mediaaccess control，MAC）子层</p>
<p>&#x3D;&#x3D;第1层 物理层&#x3D;&#x3D;</p>
<p>物理层（Physical Layer）在局部局域网上传送数据帧（Data Frame），它负责管理电脑通信设备和网络媒体之间的互通。包括了针脚、电压、线缆规范、集线器、中继器、主机接口卡等</p>
<h2 id="TCP-IP五层协议"><a href="#TCP-IP五层协议" class="headerlink" title="TCP&#x2F;IP五层协议"></a>TCP&#x2F;IP五层协议</h2><p>&#x3D;&#x3D;第一层：物理层&#x3D;&#x3D;</p>
<ul>
<li>数据称为bit，负责传输电信号，对其进行分组</li>
<li>高电压对应数字1，低电压对应数字0</li>
</ul>
<p>&#x3D;&#x3D;第二层：数据链路层&#x3D;&#x3D;</p>
<ul>
<li><p>使用的是以太网协议传输，即MAC地址</p>
<ul>
<li>MAC地址是网卡上的地址，唯一的，在局域网内部用的地址，出不了局域网</li>
<li>在局域网中是基于以太网协议的广播方式，使用MAC地址去找到目标机器</li>
</ul>
</li>
<li><p>一组电信号成为数据帧，每一个数据帧由两部分构成</p>
<ul>
<li>head头部：长度固定18字节。源地址，目标地址和数据描述信息各占6字节（地址里用的是MAC地址）</li>
<li>data：数据，默认最长的是1500字节</li>
</ul>
</li>
</ul>
<p>&#x3D;&#x3D;第三层：网络层&#x3D;&#x3D;</p>
<p>网络层由来：世界范围的互联网是由一个个彼此隔离的小的局域网组成的，如果所有的通信都采用以太网的广播方式，那么一台机器发送的包全世界都会收到，不仅效率低，也是安全问题</p>
<ul>
<li><p>使用的是ipv4协议，用于跨网段通信，数据被称为数据包，由两部分构成</p>
<ul>
<li>head：源ip地址和目标ip地址</li>
<li>data：数据，最长65515个字节</li>
</ul>
</li>
<li><p>MAC地址标识局域网内唯一的服务器，ip地址标识唯一的局域网，ip+mac标识全世界唯一的服务器</p>
<ul>
<li>ip地址要是既可以标识唯一的局域网，又可以标识该局域网内的某台机器的mac地址，就要用到了子网掩码</li>
<li>ip地址&#x3D;网络地址+主机地址</li>
<li>ip地址与子网掩码做与运算，得到网络地址</li>
</ul>
</li>
<li><p>ARP协议：负责将ip地址解析成mac地址</p>
<ul>
<li>一台主机通过arp协议获取另外一台主机的mac地址</li>
<li>所以网络通信用的是mac地址，注意不是ip地址</li>
</ul>
</li>
<li><p>ip相关地址计算工具：<a target="_blank" rel="noopener" href="https://ipjisuanqi.com/">https://ipjisuanqi.com/</a></p>
</li>
</ul>
<p>&#x3D;&#x3D;第四层：传输层&#x3D;&#x3D;</p>
<p>传输层的由来：我们通过ip和mac找到了一台特定的主机，如何标识这台主机上的应用程序？端口，即应用程序与网卡关联的编号。</p>
<ul>
<li>TCP&#x2F;UDP协议，基于端口工作，数据称之为数据段，负责建立端口到端口的通信</li>
<li>基于tcp协议或者udp协议工作的应用程序，都会拥有一个唯一的端口号（在一个操作系统里端口的范围0-65535，0-1023为系统占用端口）</li>
<li>ip+port: 全世界范围内唯一的基于网络通信应用程序</li>
</ul>
<p>&#x3D;&#x3D;第五层：应用层&#x3D;&#x3D;</p>
<ul>
<li>应用程序是自己开发，所以应用层用用什么协议应用程序自己定义就好，负责规定好数据的组织形式</li>
<li>http协议、ssl协议</li>
</ul>
<p>&#x3D;&#x3D;补充：socket抽象层&#x3D;&#x3D;</p>
<ul>
<li>位于传输层与应用层之间</li>
<li>socket层是对传输层及其以下的封装，封装完之后提供了一系列简单的功能给上次应用程序去调用</li>
<li>基于网络通信的应用程序基本上都是基于socket开发的，所以又称之为套接字程序</li>
</ul>
<p><img src="/ComputerBasic/network/network-layer/1750523424805-7ef09270-5471-4534-91bc-b2b5cc5e2a95-17556812446221.png" alt="img"></p>
<h2 id="网络通信流程"><a href="#网络通信流程" class="headerlink" title="网络通信流程"></a>网络通信流程</h2><p>网络通信必备的四个地址</p>
<ul>
<li>不跨网段：ip地址+mac地址</li>
<li>跨网段：网关的ip地址+mac地址+子网掩码</li>
<li>如果有域名：还需要再加一个DNS服务器的地址</li>
</ul>
<p>网络流量流向</p>
<ul>
<li>东西流量：服务器集群机器之间进行通信</li>
<li>南北流量：与外网进行通信</li>
</ul>
<p>网络通信流程</p>
<ol>
<li><p>打开浏览器输入一个url地址：http:&#x2F;&#x2F; egonlin.com:80</p>
</li>
<li><p>计算机会请求本地dns把域名egonlin.com解析为ip地址：http:&#x2F;&#x2F; 1.1.1.1:80</p>
</li>
<li><p>应用层封包：用http协议把数据封装一下，假设为4960字节</p>
</li>
<li><p>传输层：用tcp协议封装一下，打上tcp的头（源端口，目标端口），tcp数据包为20字节，嵌入HTTP数据包，总长度为4980字节（TCP三次握手）</p>
</li>
<li><p>网络层：用ip协议封装一下，打上ip头（源ip，目标ip），ip数据包也为20字节，嵌入TCP数据包，总长度为5000字节</p>
</li>
<li><p>数据链路层：用以太网协议封装一下，打上ethernet协议的头（源mac、目标mac）</p>
<ul>
<li>注意：以太网协议的数据部分默认最大传输单元是1500字节 —-》MTU</li>
<li>数据包需要分片发送，以1500个字节为单位，<code>5000/1500=3.3</code>，所以IP数据包必须分割成四个包</li>
</ul>
</li>
<li><p>服务器端响应：服务器收到四个以太网数据包，拼起来取出完整的TCP数据包，读出里面的HTTP请求，做出HTTP响应，再用TCP协议发回来</p>
</li>
</ol>
<h3 id="同局域网通信"><a href="#同局域网通信" class="headerlink" title="同局域网通信"></a>同局域网通信</h3><p>前提条件：</p>
<ul>
<li>发送端 IP：<code>192.168.71.7/24</code></li>
<li>发送端 MAC：<code>FFFFFFFFFFFF</code></li>
<li>接收端 IP：<code>192.168.71.8/24</code></li>
</ul>
<p>通信之前，ARP协议开始工作</p>
<ol>
<li><p>判断是否在同一局域网</p>
</li>
<li><p>在一个局域网，ARP协议获取目标MAC地址（mac+广播）</p>
<ul>
<li><p>发送端广播一个ARP请求帧，里面包含了发送端IP，MAC和接收端IP，局域网内的所有主机都会收到这个广播请求</p>
</li>
<li><p><code>192.168.71.8</code>的接收端返回自己的mac给发送端</p>
</li>
<li><p>发送端将目标MAC地址缓存到本地ARP缓存表中</p>
</li>
</ul>
</li>
</ol>
<p>真正通信开始，封装数据帧进行传输，包含发送端的mac，接收端的mac，<code>192.168.71.7/24</code>，<code>192.168.71.8/24</code>和数据部分</p>
<h3 id="跨局域网通信"><a href="#跨局域网通信" class="headerlink" title="跨局域网通信"></a>跨局域网通信</h3><p>前提条件：</p>
<ul>
<li>发送端 IP：<code>192.168.71.7/24</code></li>
<li>发送端 MAC：<code>FFFFFFFFFFFF</code></li>
<li>接收端 IP：<code>172.16.202.8/24</code></li>
</ul>
<p>通信之前，ARP协议开始工作</p>
<ol>
<li><p>判断是否在同一局域网</p>
</li>
<li><p>不在一个局域网，跨网段通信靠路由器，接下来ARP协议获取路由器（默认网关）的MAC地址（mac+广播）</p>
<ul>
<li><code>FFFFFFFFFFFF 192.168.71.7 192.168.71.1</code></li>
</ul>
</li>
<li><p><code>192.168.71.1</code>网关返回自己的mac给发送端，发送端手里有网关mac，就可以把信息送给网关</p>
</li>
</ol>
<p>真正通信开始，封装数据帧进行传输，包含发送端自己的mac地址网关的mac地址，<code>192.168.71.7/24</code>，<code>172.16.202.8/24</code>和数据部分</p>
<h3 id="数据封装和数据解封"><a href="#数据封装和数据解封" class="headerlink" title="数据封装和数据解封"></a>数据封装和数据解封</h3><p>数据封装：数据包在网络中传输时，为了更高效、准确的到达目的地，需要对其进行拆分和打包，比如在所发数据包上附加本地以及目标地址、加纠错字节、以及<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%8A%A0%E5%AF%86&spm=1001.2101.3001.7020">加密</a>处理等。这些操作就是数据封装。</p>
<p><img src="/ComputerBasic/network/network-layer/1753785809732-974a5cc6-7aa6-4cc6-aeb2-3ddf234951d5-17556812446238.png" alt="null"></p>
<p>数据解封：是数据封装的逆过程，就是将发送方发过来的信息经过拆解协议包进而获得业务数据的过程。</p>
<p><img src="/ComputerBasic/network/network-layer/1753785809761-6a6a188e-1462-4bb4-8d73-84240fd74d2f-17556812446222.png" alt="null"></p>
<h2 id="网络通讯"><a href="#网络通讯" class="headerlink" title="网络通讯"></a>网络通讯</h2><h3 id="三种通讯模式"><a href="#三种通讯模式" class="headerlink" title="三种通讯模式"></a>三种通讯模式</h3><p>unicast: 单播,目标设备是一个</p>
<p>broadcast: 广播,目标设备是所有</p>
<p>multicast: 多播,组播,目标设备是多个</p>
<h3 id="冲突域和广播域"><a href="#冲突域和广播域" class="headerlink" title="冲突域和广播域"></a>冲突域和广播域</h3><p>冲突域：两个网络设备同时发送数据,如果发生了冲突,则两个设备处于同一个冲突域,反之,则各自处于不同的冲突域</p>
<p>广播域：一个网络设备发送广播，另一个设备收到了,则两个设备处于同一个广播域,反之,则各自处于不同的广播域</p>
<h3 id="三种通讯机制"><a href="#三种通讯机制" class="headerlink" title="三种通讯机制"></a>三种通讯机制</h3><ul>
<li>单工通信：只有一个方向的通信,比如: 收音机</li>
<li>半双工通信：通信双方都可以发送和接收信息，但不能同时发送，也不能同时接收,比如:对讲机</li>
<li>全双工通信：通信双方可以同时发送和同时接收,比如: 手机</li>
</ul>
<p>范例：查看双工和速度</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果mii-tool不支持，则可以使用 ethtool 命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#FD全双工，100千兆，base基带传输，T双绞线，link ok表示网络状态正常</span></span><br><span class="line">[root@localhost ~]# mii-tool eth0</span><br><span class="line">eth0: negotiated 100baseTx-FD, <span class="built_in">link</span> ok</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# mii-tool -v eth0</span><br><span class="line">eth0: negotiated 100baseTx-FD, <span class="built_in">link</span> ok</span><br><span class="line">    product info: vendor 00:07:32, model 17 rev 5</span><br><span class="line">    basic mode:  autonegotiation enabled</span><br><span class="line">    basic status: autonegotiation complete, <span class="built_in">link</span> ok</span><br><span class="line">    capabilities: 100baseTx-FD 100baseTx-HD 10baseT-FD 10baseT-HD</span><br><span class="line">    advertising: 100baseTx-FD 100baseTx-HD 10baseT-FD 10baseT-HD flow-control</span><br><span class="line">    <span class="built_in">link</span> partner: 100baseTx-FD 100baseTx-HD 10baseT-FD 10baseT-HD</span><br><span class="line"></span><br><span class="line">[root@ubuntu2004 ~]#ethtool eth0</span><br><span class="line">Settings <span class="keyword">for</span> eth0:</span><br><span class="line">    Supported ports: [ TP ]	 <span class="comment">#网卡接口支持的类型 TP 表示双绞线</span></span><br><span class="line">    Supported <span class="built_in">link</span> modes:   10baseT/Half 10baseT/Full	<span class="comment">#支持的工作模式</span></span><br><span class="line">                            100baseT/Half 100baseT/Full </span><br><span class="line">                            1000baseT/Full </span><br><span class="line">    Supported pause frame use: No</span><br><span class="line">    Supports auto-negotiation: Yes 	<span class="comment">#是否支持自动协商</span></span><br><span class="line">    Supported FEC modes: Not reported</span><br><span class="line">    Advertised <span class="built_in">link</span> modes:  10baseT/Half 10baseT/Full 	<span class="comment">#通告模式</span></span><br><span class="line">                            100baseT/Half 100baseT/Full </span><br><span class="line">                            1000baseT/Full </span><br><span class="line">    Advertised pause frame use: No</span><br><span class="line">    Advertised auto-negotiation: Yes#通告是否使用自动协商</span><br><span class="line">    Advertised FEC modes: Not reported</span><br><span class="line">    Speed: 1000Mb/s	 <span class="comment">#当前速度</span></span><br><span class="line">    Duplex: Full	<span class="comment">#工作模式，全双工</span></span><br><span class="line">    Port: Twisted Pair	<span class="comment">#接口类型,Twisted Pair是双绞线,FIBRE是光纤</span></span><br><span class="line">    PHYAD: 0</span><br><span class="line">    Transceiver: internal</span><br><span class="line">    Auto-negotiation: on  <span class="comment">#自动协商是否打开</span></span><br><span class="line">    MDI-X: off (auto)</span><br><span class="line">    Supports Wake-on: d	 <span class="comment">#是否支持Wake On LAN,d不支持，g支持</span></span><br><span class="line">    Wake-on: d	<span class="comment">#Wake On LAN是否启用 d禁用, g启用</span></span><br><span class="line">    Current message level: 0x00000007 (7)</span><br><span class="line">                   drv probe <span class="built_in">link</span></span><br><span class="line">    Link detected: <span class="built_in">yes</span>	<span class="comment">#是否连接到网络,可以判断网线有无断开</span></span><br><span class="line">    </span><br><span class="line">[root@ubuntu2004 ~]#ethtool -i eth0</span><br><span class="line">driver: e1000</span><br><span class="line">version: 7.3.21-k8-NAPI	 <span class="comment">#网卡驱动</span></span><br><span class="line">firmware-version: </span><br><span class="line">expansion-rom-version: </span><br><span class="line">bus-info: 0000:02:01.0</span><br><span class="line">supports-statistics: <span class="built_in">yes</span></span><br><span class="line">supports-test: <span class="built_in">yes</span></span><br><span class="line">supports-eeprom-access: <span class="built_in">yes</span></span><br><span class="line">supports-register-dump: <span class="built_in">yes</span></span><br><span class="line">supports-priv-flags: no</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络断开的状态</span></span><br><span class="line">[root@centos8 ~]#mii-tool -v eth1</span><br><span class="line">eth1: no <span class="built_in">link</span></span><br><span class="line">    product info: Yukon 88E1011 rev 3</span><br><span class="line">    basic mode:  autonegotiation enabled</span><br><span class="line">    basic status: no <span class="built_in">link</span></span><br><span class="line">    capabilities: 1000baseT-FD 100baseTx-FD 100baseTx-HD 10baseT-FD 10baseT-HD</span><br><span class="line">    advertising: 1000baseT-FD 100baseTx-FD 100baseTx-HD 10baseT-FD 10baseT-HD</span><br></pre></td></tr></table></figure>

<h1 id="二、局域网-Local-Area-Network"><a href="#二、局域网-Local-Area-Network" class="headerlink" title="二、局域网 Local Area Network"></a>二、局域网 Local Area Network</h1><p>网络为一个单位所拥有，地理范围和站点数目均有限，用于资源共享和数据通信，能方便地共享昂贵的外部设备、主机以及软件、数据。从一个站点可以访问全网，便于系统的扩展和逐渐演变，各设备的位置可灵活的调整和改变，提高系统的可靠性、可用性和易用性</p>
<h2 id="交换机和网桥"><a href="#交换机和网桥" class="headerlink" title="交换机和网桥"></a>交换机和网桥</h2><p>网桥和交换机都工作在数据链路层，根据 MAC 地址 转发数据帧，</p>
<ul>
<li>传统网桥通常只有2个端口，用于连接两个网段</li>
<li>交换机本质上是一个具有多个端口的高速网桥，每个端口可以连接一台设备或一个网段，形成“端口到端口”的独立冲突域</li>
</ul>
<p>交换机工作流程</p>
<ol>
<li>从源 MAC 学习设备位置</li>
<li>查表转发目标帧</li>
<li>若目标未知 → <strong>泛洪</strong>（广播到所有端口）</li>
</ol>
<p><img src="/ComputerBasic/network/network-layer/1753785809667-24072985-c645-4d87-9bd7-ba6611125d57-17556812446223.png" alt="null"></p>
<p>交换机会造成广播风暴：交换机会将广播帧（如ARP请求、DHCP请求）转发到所有端口，当网络中存在大量广播流量或存在环路时，可能引发广播风暴，占用大量带宽，导致网络拥塞甚至瘫痪</p>
<ul>
<li>使用 VLAN 划分广播域，缩小广播范围</li>
<li>启用生成树协议（STP） 防止环路</li>
</ul>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p>路由器：跨网络通信</p>
<ul>
<li>工作层次：OSI 模型 网络层（第3层）</li>
<li>核心功能：将数据包从一个网络转发到另一个网络，实现跨网通信</li>
<li>关键机制：依靠路由表（基于IP地址）决定到达目标网络的最佳路径</li>
<li>功能：每个接口属于不同广播域，有效抑制广播风暴，分隔广播域和冲突域</li>
</ul>
<p>路由器工作流程</p>
<ol>
<li>接收数据包 → 查看目标 IP 地址</li>
<li>查询路由表：匹配目的网络</li>
<li>选择最佳路径 → 转发到下一跳（Next Hop）</li>
<li>若无匹配项 → 丢弃或转发至默认路由</li>
</ol>
<p><img src="/ComputerBasic/network/network-layer/1753768606907-f9925b8a-3232-41e4-845c-f22808d7fab2-17556812446224.png" alt="null"></p>
<h2 id="虚拟局域网-VLAN"><a href="#虚拟局域网-VLAN" class="headerlink" title="虚拟局域网 VLAN"></a>虚拟局域网 VLAN</h2><p>因为交换机上各主机都属于同一网段，每个接口组合成了一个广播域，当有一个接口发起通讯时，在同一网段的其他接口都可以接收到，所以这样并不安全，所以利用了VLAN技术可以用交换机来进行网络隔离，要求交换机具有网络管理功能。有了VLAN划分局域网，交换机收到广播帧后，只转发到属于同一VLAN的其他端口</p>
<ul>
<li>可以不用通过路由器来隔离不同广播域</li>
<li>可以突破地理位置的限制，在逻辑上划分出不同的广播域</li>
</ul>
<h3 id="基于端口的-VLAN"><a href="#基于端口的-VLAN" class="headerlink" title="基于端口的 VLAN"></a>基于端口的 VLAN</h3><p>这种模式中，在交换机上创建若干个VLAN，在将若干端口放在每个VLAN 中。每个端口在某一时刻只能属于一个VLAN。一个 VLAN 可以包含所有端口，或者部分端口。每个端口有个PVID （port VLAN identifier)。这种模式下，一个端口上收到的 frame 是 untagged frame，因此它不包含任何有关 VLAN 的信息。VLAN 的关系只能从端口的 PVID 上看出来。交换机在转发 frame 时，只将它转发到相同 PVID 的端口。</p>
<p><img src="/ComputerBasic/network/network-layer/image-1704275797897-17556812446225.png" alt="file"></p>
<p>如上图所示，连接两个交换机的同一个 VLAN 中的两个计算机需要通信的话，需要在两个交换机之间连两根线：</p>
<ul>
<li>一根从 Switch A 端口4 到 Switch B 端口 4 （VLAN 1）</li>
<li>一根从 Switch A 端口8 到 Switch B 端口 8 （VLAN 2）</li>
</ul>
<p>带 VLAN 的交换机的端口分为两类：</p>
<ul>
<li><p>Access port</p>
<blockquote>
<p>这些端口被打上了 VLAN Tag。离开交换机的 Access port 进入计算机的以太帧中没有 VLAN Tag，这意味着连接到 access ports 的机器不会觉察到 VLAN 的存在。离开计算机进入这些端口的数据帧被打上了 VLAN Tag。</p>
</blockquote>
</li>
<li><p>Trunk port</p>
<blockquote>
<p>有多个交换机时，组A中的部分机器连接到 switch 1，另一部分机器连接到 switch 2。要使得这些机器能够相互访问，你需要连接两台交换机。 要避免使用一根电缆连接每个 VLAN 的两个端口，我们可以在每个交换机上配置一个 VLAN trunk port。Trunk port 发出和收到的数据包都带有 VLAN header，该 header 表明了该数据包属于那个 VLAN。因此，只需要分别连接两个交换机的一个 trunk port 就可以转发所有的数据包了。通常来讲，只使用 trunk port 连接两个交换机，而不是用来连接机器和交换机，因为机器不想看到它们收到的数据包带有 VLAN Header。</p>
</blockquote>
</li>
</ul>
<p><img src="/ComputerBasic/network/network-layer/image-1704275744043-17556812446236.png" alt="file"></p>
<h3 id="Tagged-VLANs-（数据帧中带有-VLAN-tag）"><a href="#Tagged-VLANs-（数据帧中带有-VLAN-tag）" class="headerlink" title="Tagged VLANs （数据帧中带有 VLAN tag）"></a>Tagged VLANs （数据帧中带有 VLAN tag）</h3><p>这种模式下，frame 的VLAN 关系是它自己携带的信息中保存的，这种信息叫 a tag or tagged header。当交换机收到一个带 VLAN tag 的帧，它只将它转发给具有同样 VID 的端口。一个能够接收或者转发 tagged frame 的端口被称为 a tagged port。所有连接到这种端口的网络设备必须是 802.1Q 协议兼容的。这种设备必须能处理 tagged frame，以及添加 tag 到其转发的 frame。</p>
<p><img src="/ComputerBasic/network/network-layer/image-1704275807618-17556812446237.png" alt="file"></p>
<p>上图中，两个交换机上的端口8 支持 VLAN 1 和 2， 因此一根线就可以了实现跨交换机的同VLAN 内的计算机互相通信了。</p>
<h3 id="VLAN的不足"><a href="#VLAN的不足" class="headerlink" title="VLAN的不足"></a>VLAN的不足</h3><p>VLAN 使用 12-bit 的 VLAN ID，所以 VLAN 的第一个不足之处就是它最多只支持 4096 个 VLAN 网络（当然这还要除去几个预留的），对于大型数据中心的来说，这个数量是远远不够的。</p>
<p>VLAN 操作需手工介入较多，这对于管理成千上万台机器的管理员来说是难以接受的。</p>
<h1 id="三、Internet层"><a href="#三、Internet层" class="headerlink" title="三、Internet层"></a>三、Internet层</h1><h2 id="地址解析协议ARP"><a href="#地址解析协议ARP" class="headerlink" title="地址解析协议ARP"></a>地址解析协议ARP</h2><p>作用：将IP地址解析成MAC地址</p>
<p>主机发送信息时将包含目标IP地址的ARP请求广播到局域网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。地址解析协议是建立在网络中各个主机互相信任的基础上的，局域网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将<br>其记入本机ARP缓存</p>
<p><strong>同网段的ARP</strong></p>
<p><img src="/ComputerBasic/network/network-layer/1753768609889-12f46715-401d-4ff8-8895-b0b70fac2178-17556812446239.png" alt="null"></p>
<p><strong>跨网段的ARP</strong></p>
<p><img src="/ComputerBasic/network/network-layer/1753768609961-ef8ee14b-7e48-4847-982b-0089c9f417c9-175568124462311.png" alt="null"></p>
<p>范例：ARP 表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@baidu ~]#ip neigh</span><br><span class="line">192.168.1.110 dev eth0 lladdr 60:02:b4:e3:8a:c0 STALE</span><br><span class="line">192.168.1.156 dev eth0 lladdr 50:01:d9:8a:1d:3f STALE</span><br><span class="line">192.168.1.114 dev eth0 lladdr 40:8d:5c:e1:97:34 STALE</span><br><span class="line">192.168.1.118 dev eth0 lladdr 94:65:2d:38:44:82 STALE</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看ARP缓存</span></span><br><span class="line">[root@baidu ~]#arp -n</span><br><span class="line">Address         HWtype HWaddress      Flags Mask      Iface</span><br><span class="line">192.168.1.110      ether  60:02:b4:e3:8a:c0  C           eth0</span><br><span class="line">192.168.1.156      ether  50:01:d9:8a:1d:3f  C           eth0</span><br><span class="line">192.168.1.114      ether  40:8d:5c:e1:97:34  C           eth0</span><br><span class="line">192.168.1.118      ether  94:65:2d:38:44:82  C           eth0</span><br><span class="line"></span><br><span class="line"><span class="comment">#ARP只对局域网有效，要是跨网段就实现不了</span></span><br><span class="line">[root@centos7 ~]#arp -n</span><br><span class="line">Address                  HWtype  HWaddress           Flags Mask            Iface</span><br><span class="line">10.0.0.1                 ether   00:50:56:c0:00:08   C                     eth0</span><br><span class="line">10.0.0.2                 ether   00:50:56:ea:d3:07   C                     eth0</span><br><span class="line"></span><br><span class="line">[root@centos7 ~]#ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (183.2.172.185) 56(84) bytes of data.</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=1 ttl=128 <span class="keyword">time</span>=19.7 ms</span><br><span class="line"></span><br><span class="line">[root@centos7 ~]#arp -n</span><br><span class="line">Address                  HWtype  HWaddress           Flags Mask            Iface</span><br><span class="line">10.0.0.1                 ether   00:50:56:c0:00:08   C                     eth0</span><br><span class="line">10.0.0.2                 ether   00:50:56:ea:d3:07   C                     eth0</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除记录</span></span><br><span class="line">[root@centos7 ~]#arp -d [ipaddr]</span><br></pre></td></tr></table></figure>

<p>范例：ARP静态绑定可以防止ARP欺骗</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos8 ~]#arp -s 10.0.0.6 00:0c:29:32:80:38</span><br><span class="line">[root@centos8 ~]#arp -n</span><br><span class="line">Address         HWtype HWaddress      Flags Mask      Iface</span><br><span class="line">10.0.0.6         ether  00:0c:29:32:80:38  CM          eth0</span><br><span class="line">10.0.0.7         ether  00:0c:29:32:80:38  C           eth0</span><br><span class="line">10.0.0.1         ether  00:50:56:c0:00:08  C           eth0</span><br></pre></td></tr></table></figure>

<h2 id="Gratuitous-ARP"><a href="#Gratuitous-ARP" class="headerlink" title="Gratuitous ARP"></a>Gratuitous ARP</h2><p>Gratuitous ARP也称为免费ARP，无故ARP。Gratuitous ARP 不同于一般的ARP请求，它并非期待得到ip对应的mac地址，而是当主机启动的时候，将发送一个Gratuitous arp请求，即请求自己的ip地址的mac地址</p>
<p>免费ARP可以有两个方面的作用：</p>
<ul>
<li>验证IP是否冲突：一个主机可以通过它来确定另一个主机是否设置了相同的 IP地址</li>
<li>更换物理网卡：如果发送ARP的主机正好改变了物理地址（如更换物理网卡），可以使用此方法通知网络中其它主机及时更新ARP缓存</li>
</ul>
<p>判断IP地址有没有地址冲突</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arping ipaddr</span><br><span class="line">如果同一IP地址出现两个MAC地址，说明地址冲突</span><br><span class="line"></span><br><span class="line">[root@LVS ~]#arping 10.0.0.100</span><br><span class="line">ARPING 10.0.0.100</span><br><span class="line">60 bytes from 00:0c:29:28:40:00 (10.0.0.100): index=0 <span class="keyword">time</span>=219.480 usec</span><br><span class="line">60 bytes from 00:0c:29:fe:8e:b4 (10.0.0.100): index=1 <span class="keyword">time</span>=297.546 usec</span><br></pre></td></tr></table></figure>

<h2 id="反向地址解析协议RARP"><a href="#反向地址解析协议RARP" class="headerlink" title="反向地址解析协议RARP"></a>反向地址解析协议RARP</h2><p>作用：将MAC转换成IP</p>
<p><img src="/ComputerBasic/network/network-layer/1753768610031-a3ce3eff-e880-4ff5-b75a-8f86278e0794-175568124462310.png" alt="null"></p>
<h2 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2><h3 id="IP地址组成"><a href="#IP地址组成" class="headerlink" title="IP地址组成"></a>IP地址组成</h3><p>它们可唯一标识 IP 网络中的每台设备 ，每台主机（计算机、网络设备、外围设备）必须具有唯一的地址</p>
<p>MAC 属于物理地址，mac 地址不可变，一出厂就写死，标识惟一设备</p>
<p>IP 属于逻辑地址，逻辑地址可修改，人为赋予，可以修改，使用灵活，便于管理</p>
<p>IP地址由两部分组成</p>
<ul>
<li>网络 ID：标识网络，每个网段分配一个网络ID，处于高位（表示处于哪个网段）</li>
<li>主机 ID：标识单个主机，由组织分配给各设备，处于低位</li>
</ul>
<p>IPv4地址格式：点分十进制记法</p>
<p><img src="/ComputerBasic/network/network-layer/1753768610187-4961621d-22f5-46ae-b027-4a3e99e4d7bb-175568124462312.png" alt="null"></p>
<p>范例：IP地址转十进制INT</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#二进制转十进制</span></span><br><span class="line">[root@ubuntu2204 ~]# <span class="built_in">echo</span> <span class="string">&quot;ibase=2;00001010000000000000000010011110&quot;</span>|bc</span><br><span class="line">167772318</span><br><span class="line"></span><br><span class="line">[root@ubuntu2204 ~]# ping 167772318</span><br><span class="line">PING 167772318 (10.0.0.158) 56(84) bytes of data.</span><br><span class="line">64 bytes from 10.0.0.158: icmp_seq=1 ttl=64 <span class="keyword">time</span>=0.973 ms</span><br><span class="line">64 bytes from 10.0.0.158: icmp_seq=2 ttl=64 <span class="keyword">time</span>=0.823 ms</span><br></pre></td></tr></table></figure>

<p>范例：遍历检测当前网段内的主机</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">10.0.0.1 =   00001010 00000000 00000000 00000001</span><br><span class="line">10.0.0.254 =  00001010 00000000 00000000 11111110   254 = 128+64+32+16+8+4+2</span><br><span class="line"></span><br><span class="line">[root@ubuntu2204 ~]# <span class="built_in">echo</span> <span class="string">&quot;ibase=2;00001010000000000000000000000001&quot;</span>|bc</span><br><span class="line">167772161</span><br><span class="line"></span><br><span class="line">[root@ubuntu2204 ~]# <span class="built_in">echo</span> <span class="string">&quot;ibase=2;00001010000000000000000011111110&quot;</span>|bc</span><br><span class="line">167772414</span><br><span class="line"></span><br><span class="line">[root@ubuntu2204 ~]# <span class="keyword">for</span> i <span class="keyword">in</span> &#123;167772161..167772414&#125;;<span class="keyword">do</span> ping -c1 -W1 <span class="variable">$i</span> &amp;&amp; <span class="built_in">echo</span> the <span class="variable">$i</span> is up || <span class="built_in">echo</span> the <span class="variable">$i</span> is down;<span class="keyword">done</span>;</span><br><span class="line"></span><br><span class="line">[root@ubuntu2204 ~]# net=10.0.0.1;<span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..254&#125;;<span class="keyword">do</span> ping -c1 -W1 <span class="variable">$net</span>.<span class="variable">$i</span> &amp;&gt;/dev/null &amp;&amp; <span class="built_in">echo</span> the <span class="variable">$net</span>.<span class="variable">$i</span> is up || <span class="built_in">echo</span> the <span class="variable">$net</span>.<span class="variable">$i</span> is down;<span class="keyword">done</span>;</span><br></pre></td></tr></table></figure>

<h3 id="IP地址分类"><a href="#IP地址分类" class="headerlink" title="IP地址分类"></a>IP地址分类</h3><p><img src="/ComputerBasic/network/network-layer/1753768610293-57afee41-c0d3-4e3a-be18-8346d8688e86-175568124462314.png" alt="null"></p>
<table>
<thead>
<tr>
<th>类别</th>
<th>首字节范围（十进制）</th>
<th>二进制前缀</th>
<th>网络ID位数</th>
<th>主机ID位数</th>
<th>网络数量</th>
<th>每网络最大主机数</th>
<th>默认子网掩码</th>
<th>私有地址范围</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><strong>A类</strong></td>
<td>1–126①</td>
<td><code>0</code>xxxxxxx</td>
<td>8位</td>
<td>24位</td>
<td>126 &#x3D; 2⁷ - 2</td>
<td>16777214 &#x3D; 2²⁴ - 2</td>
<td><code>255.0.0.0</code></td>
<td><code>10.0.0.0 – 10.255.255.255</code></td>
<td><code>114.114.114.114</code>, <code>8.8.8.8</code>, <code>1.1.1.1</code></td>
</tr>
<tr>
<td><strong>B类</strong></td>
<td>128–191</td>
<td><code>10</code>xxxxxx</td>
<td>16位</td>
<td>16位</td>
<td>16384 &#x3D; 2¹⁴</td>
<td>65534 &#x3D; 2¹⁶ - 2</td>
<td><code>255.255.0.0</code></td>
<td><code>172.16.0.0 – 172.31.255.255</code></td>
<td><code>180.76.76.76</code>, <code>172.16.0.1</code></td>
</tr>
<tr>
<td><strong>C类</strong></td>
<td>192–223</td>
<td><code>110</code>xxxxx</td>
<td>24位</td>
<td>8位</td>
<td>2097152 &#x3D; 2²¹</td>
<td>254 &#x3D; 2⁸ - 2</td>
<td><code>255.255.255.0</code></td>
<td><code>192.168.0.0 – 192.168.255.255</code></td>
<td><code>223.6.6.6</code>, <code>223.5.5.5</code></td>
</tr>
<tr>
<td><strong>D类</strong></td>
<td>224–239</td>
<td><code>1110</code>xxxx</td>
<td>——（多播）</td>
<td>——</td>
<td>——</td>
<td>——</td>
<td>——</td>
<td>——</td>
<td>多播（组播）地址</td>
</tr>
<tr>
<td><strong>E类</strong></td>
<td>240–255</td>
<td><code>1111</code>xxxx</td>
<td>——（保留）</td>
<td>——</td>
<td>——</td>
<td>——</td>
<td>——</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="公共和私有IP地址"><a href="#公共和私有IP地址" class="headerlink" title="公共和私有IP地址"></a>公共和私有IP地址</h3><p>公共IP地址：互联网上设备拥有的唯一地址</p>
<p>私有IP地址：不直接用于互联网，通常在局域网中使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">A类</span><br><span class="line">私有：10.0.0.0 -- 10.255.255.255</span><br><span class="line">公有：1.0.0 -- 9.255.255.255; 1.0.0.0 -- 126.255.255.255</span><br><span class="line"></span><br><span class="line">B类</span><br><span class="line">私有：172.16.0.0 -- 172.31.255.255</span><br><span class="line">公有：128.0.0.0 -- 172.15.255.255; 172.32.0.0 -- 191.255.255.255</span><br><span class="line"></span><br><span class="line">C类</span><br><span class="line">私有：192.168.0.0 -- 192.168.255.255</span><br><span class="line">公有：192.0.0.0 -- 192.167.255.255; 192.169.0.0 -- 223.255.255.255</span><br></pre></td></tr></table></figure>

<h3 id="特殊地址"><a href="#特殊地址" class="headerlink" title="特殊地址"></a>特殊地址</h3><table>
<thead>
<tr>
<th>IP 地址 &#x2F; 范围</th>
<th>类型</th>
<th>含义与用途</th>
<th>是否可路由</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><strong><code>0.0.0.0</code></strong></td>
<td>特殊地址</td>
<td>- 表示“<strong>任意地址</strong>”或“<strong>未知网络&#x2F;主机</strong>”<br>- 常用于默认路由（如 <code>0.0.0.0/0</code>）<br>- 在服务器绑定中表示监听所有网络接口</td>
<td>❌ 不用于通信</td>
<td>不是有效主机地址，仅用于配置或通配</td>
</tr>
<tr>
<td><strong><code>255.255.255.255</code></strong></td>
<td>限制广播地址</td>
<td>- 本网段内的<strong>广播地址</strong><br>- 发送到该地址的数据包会被本广播域内所有主机接收<br>- 路由器<strong>不会转发</strong>此广播</td>
<td>❌ 仅限本地广播域</td>
<td>又称“有限广播地址”</td>
</tr>
<tr>
<td><strong><code>127.0.0.1 ~ 127.255.255.254</code></strong><br>（即 <code>127.0.0.0/8</code>）</td>
<td>回环地址（Loopback）</td>
<td>- 用于<strong>本机内部通信</strong><br>- 测试 TCP&#x2F;IP 协议栈是否正常<br>- 本地服务间通信（如数据库、Web 服务）<br>- 数据包<strong>不会离开主机</strong>，不经过物理网卡</td>
<td>❌ 仅限本机</td>
<td>- 常用 <code>127.0.0.1</code> ping 测试网络协议<br>- 虚拟接口，永不宕机</td>
</tr>
<tr>
<td><strong><code>::1</code></strong>（IPv6）</td>
<td>IPv6 回环地址</td>
<td>IPv6 中的回环地址，功能同 <code>127.0.0.1</code></td>
<td>❌ 仅限本机</td>
<td>零压缩表示为 <code>::1</code></td>
</tr>
<tr>
<td><strong><code>224.0.0.0 ~ 239.255.255.255</code></strong></td>
<td>组播（Multicast）地址</td>
<td>- 用于<strong>一点对多点</strong>的数据传输<br>- 常见于视频会议、流媒体、路由协议等</td>
<td>✅ 可跨网络（需组播路由支持）</td>
<td>D类地址，也称“多播地址”</td>
</tr>
<tr>
<td><strong><code>224.0.0.1</code></strong></td>
<td>组播地址</td>
<td>所有支持组播的<strong>主机</strong></td>
<td>✅</td>
<td>本地子网范围</td>
</tr>
<tr>
<td><strong><code>224.0.0.2</code></strong></td>
<td>组播地址</td>
<td>所有支持组播的<strong>路由器</strong></td>
<td>✅</td>
<td>本地子网范围</td>
</tr>
<tr>
<td><strong><code>224.0.0.5</code></strong></td>
<td>组播地址</td>
<td>OSPF 路由协议使用的组播地址</td>
<td>✅</td>
<td>用于 OSPF 路由器间通信</td>
</tr>
<tr>
<td><strong><code>169.254.x.x</code></strong><br>（<code>169.254.0.0/16</code>）</td>
<td>链路本地地址（Link-Local）</td>
<td>- 当主机使用 DHCP 但<strong>无法获取 IP</strong> 时，Windows 自动分配此地址<br>- 用于本地链路通信（仅限同一网段）<br>- 表示“<strong>网络连接异常</strong>”</td>
<td>❌ 不能跨路由器</td>
<td>又称“自动私有 IP 地址”（APIPA）</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>概念</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>回环地址工作原理</strong></td>
<td>数据包在本机网络层处理，不经过物理接口。用于服务自测、本地通信，如 <code>localhost</code>。</td>
</tr>
<tr>
<td><strong>组播地址特点</strong></td>
<td>不同于广播（发给所有人），组播是“有选择的广播”——只有加入特定组的主机才会接收。</td>
</tr>
<tr>
<td><strong>APIPA（169.254.x.x）</strong></td>
<td>是 Windows 的容错机制。若看到此地址，说明 DHCP 故障或网络不通。</td>
</tr>
<tr>
<td><strong>0.0.0.0 的常见用途</strong></td>
<td>- 路由表中的默认路由：<code>0.0.0.0/0</code><br>- 服务器监听所有接口：<code>0.0.0.0:80</code></td>
</tr>
</tbody></table>
<h3 id="保留地址"><a href="#保留地址" class="headerlink" title="保留地址"></a>保留地址</h3><p>在一个IP地址中，如果主机ID全为0，或主机ID全为1，则该地址是保留地址</p>
<p>如在B类127.16 网段中，172.16.0.0 和 172.16.255.255 为保留地址</p>
<h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><p>CIDR：无类域间路由，目前的网络已不再按A，B，C类划分网段，可以任意指定网段的范围</p>
<p>CIDR 无类域间路由表示法：IP&#x2F;网络ID位数，如：172.16.0.100&#x2F;16</p>
<p>子网掩码的八位</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">00000000 0</span><br><span class="line">10000000 128</span><br><span class="line">11000000 192</span><br><span class="line">11100000 224</span><br><span class="line">11110000 240</span><br><span class="line">11111000 248</span><br><span class="line">11111100 252</span><br><span class="line">11111110 254</span><br><span class="line">11111111 255</span><br></pre></td></tr></table></figure>

<p>范例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IP地址 			 172.16.0.0</span><br><span class="line">子网掩码  			11111111.11111111.00000000.00000000</span><br><span class="line">子网掩码十进制表示    255.255.0.0</span><br></pre></td></tr></table></figure>

<p>相关公式：</p>
<ul>
<li>一个网络的最多的主机数 ＝2 ^ 主机ID位数 - 2</li>
<li>网络（段）数 &#x3D; 2 ^ 网络ID中可变的位数</li>
<li>网络ID &#x3D; IP 与 netmask</li>
</ul>
<p>与运算</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0与0=0</span><br><span class="line">0与1=0</span><br><span class="line">1与0=0</span><br><span class="line">1与1=1</span><br><span class="line">任何数与0都为0</span><br><span class="line">任何数与1保留原值</span><br></pre></td></tr></table></figure>

<p><strong>判断对方主机是否在同一个网段：</strong></p>
<p>用自已的子网掩码分别和自已的IP及对方的IP相与，比较结果，相同则同一网络，不同则不同网段</p>
<p>范例：判断A和B是否在网一个网段?</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">A:10.0.1.1/16 </span><br><span class="line">B:10.0.2.2/24  </span><br><span class="line"></span><br><span class="line">如果A访问B，则</span><br><span class="line">A和A自已的netmask相与 10.0.0.0/16</span><br><span class="line">B和A的netmask相与 10.0.0.0/16</span><br><span class="line">两个结果相比较,结果相同</span><br><span class="line"></span><br><span class="line">如果B访问A，则</span><br><span class="line">B和B自已的netmask相与 10.0.2.0/24</span><br><span class="line">A和B的netmask相与 10.0.1.0/24</span><br><span class="line">两个结果相比较,结果不相同，不在同一个网络</span><br></pre></td></tr></table></figure>

<p>范例：一个主机：220.100.199.0&#x2F;22，求主机数量，最小IP，最大IP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#网络ID</span></span><br><span class="line">11011100.01100100.11000111.00000000  IP</span><br><span class="line">11111111.11111111.11111100.00000000  network</span><br><span class="line">11011100.01100100.11000100.00000000  网络ID 220.100.196.0</span><br><span class="line"></span><br><span class="line"><span class="comment">#主机数量</span></span><br><span class="line">2^(32-22)-2=2^10-2=1024-2=1022  32-22 表示32位减去22位网络ID，剩下主机位ID数</span><br><span class="line"></span><br><span class="line"><span class="comment">#最小IP和最大IP</span></span><br><span class="line">220.100.196.1</span><br><span class="line"></span><br><span class="line">220.100.196</span><br><span class="line">196=128+64+4=11000100</span><br><span class="line">前22位属于网络ID  220.100.110001 00.00000000</span><br><span class="line">则最大是 220.100.110001 11.11111111 = 220.100.199.254</span><br></pre></td></tr></table></figure>

<h3 id="划分子网"><a href="#划分子网" class="headerlink" title="划分子网"></a>划分子网</h3><p>划分子网：将一个大的网络（主机数多）划分成多个小的网络（主机数少），主机ID位数变少，网络ID位数变多，网络ID位向主机ID位借n位,将划分2^n个子网</p>
<p>子网划分核心：就是控制子网掩码的长短来让ip地址分散到不同的网段&#x2F;子网里</p>
<p>划分子网数&#x3D;2^(网络ID向主机ID借的位数)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#10.0.0.0/8</span></span><br><span class="line"><span class="comment">#主机数 2^24-2=16777214</span></span><br><span class="line"><span class="comment">#10.0.0.1 -- 10.255.255.254</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#网络ID向主机ID借一位，能划分成两个子网</span></span><br><span class="line">10.0 0000000.00000000.00000000  10.0.0.0/9 </span><br><span class="line">10.1 0000000.00000000.00000000  10.128.0.0/9</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络ID向主机ID借两位，能划分成四个子网</span></span><br><span class="line">10.00 000000.00000000.00000000  10.0.0.0/10</span><br><span class="line">10.01 000000.00000000.00000000  10.64.0.0/10</span><br><span class="line">10.10 000000.00000000.00000000  10.128.0.0/10</span><br><span class="line">10.11 000000.00000000.00000000  10.192.0.0/10</span><br><span class="line"></span><br><span class="line"><span class="comment">#划分成32个子网 2^5=32，所以借5位</span></span><br><span class="line">10.00000 000.00000000.00000000  10.0.0.0/13</span><br><span class="line">......</span><br><span class="line">10.11111 000.00000000.00000000  10.248.0.0/13</span><br><span class="line">11000000.10101000.01000111.00000000 ---&gt; 192.168.71.0</span><br><span class="line">11000000.10101000.01000111.00000001 ---&gt; 192.168.71.1</span><br><span class="line">11000000.10101000.01000111.00000011 ---&gt; 192.168.71.2</span><br><span class="line">........</span><br><span class="line">11000000.10101000.01000111.01111111 ---&gt; 192.168.71.127  一直到127为止计算出的网络地址都是192.168.71.0</span><br><span class="line"></span><br><span class="line">11111111.11111111.11111111.10000000 ---&gt; 25位子网掩码</span><br><span class="line">11000000.10101000.01000111.00000000 ---&gt; 192.168.71.0</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">11000000.10101000.01000111.10000000 ---&gt; 192.168.71.128  </span><br><span class="line">11000000.10101000.01000111.10000001 ---&gt; 192.168.71.129 </span><br><span class="line">11000000.10101000.01000111.10000010 ---&gt; 192.168.71.130</span><br><span class="line">........</span><br><span class="line">11000000.10101000.01000111.11111111 ---&gt; 192.168.71.255  一直到127为止计算出的网络地址都是192.168.71.128</span><br><span class="line"></span><br><span class="line">11111111.11111111.11111111.10000000 ---&gt; 25位子网掩码</span><br><span class="line">11000000.10101000.01000111.10000000 ---&gt; 192.168.71.128</span><br></pre></td></tr></table></figure>

<p>在ip层面来说，他们是属于不同的网段，但是在物理层面，交换机是认为他们在同一网段的。假如两台服务器连接到同一个交换机，即使属于不同网段，192.168.71.2发的广播包，192.168.71.129也是会收到的</p>
<p>那么如何使交换机也可以隔离呢？VLAN技术</p>
<ul>
<li>虚拟局域网，通过虚拟技术把一个交换机分成多个广播域去用，一个广播域就是一个小的局域网</li>
<li>一个局域网内的广播包与另外一个局域网是隔离</li>
</ul>
<p>物理端口 </p>
<ul>
<li>Access端口：连接终端设备，仅允许单个VLAN流量通过 </li>
<li>Trunk端口：连接交换机或路由器，允许多个VLAN流量通过</li>
</ul>
<h3 id="优化IP地址分配"><a href="#优化IP地址分配" class="headerlink" title="优化IP地址分配"></a>优化IP地址分配</h3><p>合并超网：将多个小网络合并成一个大网，主机ID位向网络ID位借位，主要实现路由聚合功能</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#8个C类网段</span></span><br><span class="line">220.78.168.0/24</span><br><span class="line">220.78.169.0/24</span><br><span class="line">220.78.170.0/24</span><br><span class="line">220.78.171.0/24</span><br><span class="line">220.78.172.0/24</span><br><span class="line">220.78.173.0/24</span><br><span class="line">220.78.174.0/24</span><br><span class="line">220.78.175.0/24</span><br><span class="line"></span><br><span class="line"><span class="comment">#主机ID向网络ID借3位，网络ID变成21位 168=128+32+8</span></span><br><span class="line">220.78.10101 000.0  220.78.168.0/24</span><br><span class="line">220.78.10101 001.0  220.78.169.0/24</span><br><span class="line">220.78.10101 010.0  220.78.170.0/24</span><br><span class="line">......</span><br><span class="line">220.78.10101 110.0  220.78.174.0/24</span><br><span class="line">220.78.10101 111.0  220.78.175.0/24</span><br><span class="line"></span><br><span class="line"><span class="comment">#合并成一个大网</span></span><br><span class="line">220.78.168.0/21</span><br></pre></td></tr></table></figure>

<h1 id="四、GRE和VXLAN"><a href="#四、GRE和VXLAN" class="headerlink" title="四、GRE和VXLAN"></a>四、GRE和VXLAN</h1><p>基于vlan模式来构建虚拟机跨宿主机通信的网络有两点问题</p>
<ul>
<li>vlan id采用12bit位标识，意味着最多也就4000多个网络，会限制网络的规模</li>
<li>物理节点必须处于一个二层网络</li>
</ul>
<p><img src="/ComputerBasic/network/network-layer/1752312345088-f9360767-1c1b-421b-936b-75088e10bcde-175568124462313.png" alt="img"></p>
<p>基于gre与vxlan技术就是用来突破上述两点限制的，其实gre与vxlan两种协议的基本原理都是利用已有协议来封装自己新的东西</p>
<p><img src="/ComputerBasic/network/network-layer/1752318429871-5c50f566-ca00-4007-9822-0d2a530b9147-175568124462315.png" alt="img"></p>
<p>vxlan特点：</p>
<ul>
<li>基于udp协议进行分发，所以vxlan是无状态的</li>
<li>支持组播</li>
</ul>
<p>gre特点：</p>
<ul>
<li>通过是基于ip协议就信息分发，所以gre是有状态的</li>
<li>不支持组播</li>
<li>每新增与一个节点，所有相关节点都需要与其建立GRE隧道链接</li>
</ul>
<p>GRE技术本身还是存在一些不足之处：</p>
<p>（1）Tunnel 的数量问题</p>
<p>GRE 是一种点对点（point to point）标准。Neutron 中，所有计算和网络节点之间都会建立 GRE Tunnel。当节点不多的时候，这种组网方法没什么问题。但是，当你在你的很大的数据中心中有 40000 个节点的时候，又会是怎样一种情形呢？使用标准 GRE的话，将会有 780 millions 个 tunnels。</p>
<p>（2）扩大的广播域</p>
<p>GRE 不支持组播，因此一个网络（同一个 GRE Tunnel ID）中的一个虚机发出一个广播帧后，GRE 会将其广播到所有与该节点有隧道连接的节点。</p>
<p>（3）GRE 封装的IP包的过滤和负载均衡问题</p>
<p>目前还是有很多的防火墙和三层网络设备无法解析 GRE Header，因此它们无法对 GRE 封装包做合适的过滤和负载均衡。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://AquaPluto.github.io">Aquarius</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://aquapluto.github.io/ComputerBasic/network/network-layer/">https://aquapluto.github.io/ComputerBasic/network/network-layer/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://AquaPluto.github.io" target="_blank">代码推演录</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post-share"><div class="social-share" data-image="/img/paper2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/ComputerBasic/network/transport-layer/" title="传输层"><img class="cover" src="/img/paper5.png" onerror="onerror=null;src='/img/error-page.png'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">传输层</div></div><div class="info-2"><div class="info-item-1">一、TCP和UDP协议tcp协议：...</div></div></div></a><a class="pagination-related" href="/ComputerBasic/operating-system/IO-model/" title="IO模型"><img class="cover" src="/img/paper6.png" onerror="onerror=null;src='/img/error-page.png'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">IO模型</div></div><div class="info-2"><div class="info-item-1">一、IO的分类1.1 磁盘IO和网...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/ComputerBasic/network/application-layer/" title="应用层"><img class="cover" src="/img/paper1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-21</div><div class="info-item-2">应用层</div></div><div class="info-2"><div class="info-item-1">一、DNS域名解析1.1 DNS介...</div></div></div></a><a class="pagination-related" href="/ComputerBasic/network/network-architecture/" title="物理网络架构全链路"><img class="cover" src="/img/paper6.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-21</div><div class="info-item-2">物理网络架构全链路</div></div><div class="info-2"><div class="info-item-1">流量类型  南北流量：内网机器与外...</div></div></div></a><a class="pagination-related" href="/ComputerBasic/network/transport-layer/" title="传输层"><img class="cover" src="/img/paper5.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-21</div><div class="info-item-2">传输层</div></div><div class="info-2"><div class="info-item-1">一、TCP和UDP协议tcp协议：...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Aquarius</div><div class="author-info-description">分享运维开发相关技术</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">138</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/AquaPluto"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/AquaPluto" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://blog.csdn.net/m0_75233142" target="_blank" title="CSDN"><i class="fa-solid fa-code" style="color: #8a2be2;"></i></a><a class="social-icon" href="mailto:wujunlinq@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><p>持续更新文章中，有问题请添加wx</p>
<div>
  <img src="/img/wx.jpg" alt="wx" style="width: 100px">
</div>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-text">一、网络基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI-%E4%B8%83%E5%B1%82"><span class="toc-text">OSI 七层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP%E4%BA%94%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-text">TCP&#x2F;IP五层协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E6%B5%81%E7%A8%8B"><span class="toc-text">网络通信流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E5%B1%80%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A1"><span class="toc-text">同局域网通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%B1%80%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A1"><span class="toc-text">跨局域网通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E5%92%8C%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%B0%81"><span class="toc-text">数据封装和数据解封</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E8%AE%AF"><span class="toc-text">网络通讯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E9%80%9A%E8%AE%AF%E6%A8%A1%E5%BC%8F"><span class="toc-text">三种通讯模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E5%9F%9F%E5%92%8C%E5%B9%BF%E6%92%AD%E5%9F%9F"><span class="toc-text">冲突域和广播域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E9%80%9A%E8%AE%AF%E6%9C%BA%E5%88%B6"><span class="toc-text">三种通讯机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B1%80%E5%9F%9F%E7%BD%91-Local-Area-Network"><span class="toc-text">二、局域网 Local Area Network</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%92%8C%E7%BD%91%E6%A1%A5"><span class="toc-text">交换机和网桥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-text">路由器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91-VLAN"><span class="toc-text">虚拟局域网 VLAN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%AB%AF%E5%8F%A3%E7%9A%84-VLAN"><span class="toc-text">基于端口的 VLAN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tagged-VLANs-%EF%BC%88%E6%95%B0%E6%8D%AE%E5%B8%A7%E4%B8%AD%E5%B8%A6%E6%9C%89-VLAN-tag%EF%BC%89"><span class="toc-text">Tagged VLANs （数据帧中带有 VLAN tag）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VLAN%E7%9A%84%E4%B8%8D%E8%B6%B3"><span class="toc-text">VLAN的不足</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81Internet%E5%B1%82"><span class="toc-text">三、Internet层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AEARP"><span class="toc-text">地址解析协议ARP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gratuitous-ARP"><span class="toc-text">Gratuitous ARP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AERARP"><span class="toc-text">反向地址解析协议RARP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-text">IP地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E7%BB%84%E6%88%90"><span class="toc-text">IP地址组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB"><span class="toc-text">IP地址分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E5%85%B1%E5%92%8C%E7%A7%81%E6%9C%89IP%E5%9C%B0%E5%9D%80"><span class="toc-text">公共和私有IP地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%9C%B0%E5%9D%80"><span class="toc-text">特殊地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E7%95%99%E5%9C%B0%E5%9D%80"><span class="toc-text">保留地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-text">子网掩码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91"><span class="toc-text">划分子网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96IP%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D"><span class="toc-text">优化IP地址分配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81GRE%E5%92%8CVXLAN"><span class="toc-text">四、GRE和VXLAN</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/Kubernetes/controller/introduce/" title="控制器介绍"><img src="/img/paper1.jpg" onerror="this.onerror=null;this.src='/img/error-page.png'" alt="控制器介绍"/></a><div class="content"><a class="title" href="/Kubernetes/controller/introduce/" title="控制器介绍">控制器介绍</a><time datetime="2025-09-21T02:38:40.000Z" title="发表于 2025-09-21 10:38">2025-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Kubernetes/deploy/containerd/" title="基于containerd部署k8s-v1.30"><img src="/img/paper6.png" onerror="this.onerror=null;this.src='/img/error-page.png'" alt="基于containerd部署k8s-v1.30"/></a><div class="content"><a class="title" href="/Kubernetes/deploy/containerd/" title="基于containerd部署k8s-v1.30">基于containerd部署k8s-v1.30</a><time datetime="2025-09-21T02:38:40.000Z" title="发表于 2025-09-21 10:38">2025-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Kubernetes/deploy/cluster/" title="集群管理指南"><img src="/img/paper3.png" onerror="this.onerror=null;this.src='/img/error-page.png'" alt="集群管理指南"/></a><div class="content"><a class="title" href="/Kubernetes/deploy/cluster/" title="集群管理指南">集群管理指南</a><time datetime="2025-09-21T02:38:40.000Z" title="发表于 2025-09-21 10:38">2025-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Kubernetes/deploy/docker/" title="基于docker部署k8s-v1.30"><img src="/img/paper5.png" onerror="this.onerror=null;this.src='/img/error-page.png'" alt="基于docker部署k8s-v1.30"/></a><div class="content"><a class="title" href="/Kubernetes/deploy/docker/" title="基于docker部署k8s-v1.30">基于docker部署k8s-v1.30</a><time datetime="2025-09-21T02:38:40.000Z" title="发表于 2025-09-21 10:38">2025-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Kubernetes/deploy/explanation/" title="概论"><img src="/img/paper2.jpg" onerror="this.onerror=null;this.src='/img/error-page.png'" alt="概论"/></a><div class="content"><a class="title" href="/Kubernetes/deploy/explanation/" title="概论">概论</a><time datetime="2025-09-21T02:38:40.000Z" title="发表于 2025-09-21 10:38">2025-09-21</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Aquarius</span></div><div class="footer_custom_text"><style>
div#runtime {
  font-size: 13px;
  font-weight: bold;
}

div#ghbdages_list {
  height: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 10px
}

.github-badge {
  display: flex;
  align-items: center;
  margin-inline: 6px;
}
</style>
<div id="runtime"></div>
<div id="ghbdages"></div>
<script>
  function createtime() {
    const now = new Date();
    const grt = new Date("08/01/2025 00:00:00"); // 网站诞生时间

    // 计算天、小时、分钟和秒
    const days = Math.floor((now - grt) / (1000 * 60 * 60 * 24));
    const hours = Math.floor(((now - grt) / (1000 * 60 * 60)) % 24)
      .toString()
      .padStart(2, "0");
    const minutes = Math.floor(((now - grt) / (1000 * 60)) % 60)
      .toString()
      .padStart(2, "0");
    const seconds = Math.floor(((now - grt) / 1000) % 60)
      .toString()
      .padStart(2, "0");

    // HTML 输出
    const currentTimeHtml = `
          <div>
              本站已运行 ${days} 天 ${hours} 小时 ${minutes} 分 ${seconds} 秒 
          </div>`;

    const runtime = document.getElementById("runtime");
    if (runtime) runtime.innerHTML = currentTimeHtml;
  }

  // 设置每秒调用函数
  setInterval(createtime, 1000);

  function renderBadge() {
    const currentTimeHtml = `
      <div id="ghbdages_list">
          <a class="github-badge" target="_blank" href="https://hexo.io/" title="hexo:7.3.0">
              <img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=hexo" alt="Static Badge">
          </a>
          <a class="github-badge" target="_blank" href="https://github.com/" title="github">
              <img src="https://img.shields.io/badge/Code-GitHub-181717?logo=GitHub&color=%23FF7102" alt="Static Badge">
          </a>
          <a class="github-badge" target="_blank" href="https://vercel.com/" title="vercel">
              <img src="https://img.shields.io/badge/Host-Vercel-%23F0D722?logo=Vercel" alt="Static Badge">
          </a>
          <a class="github-badge" target="_blank" href="https://analytics.sysio.ai/" title="umami">
              <img src="https://img.shields.io/badge/Analytics-Umami-%237FB100?logo=umami&logoColor=%237FB100" alt="Static Badge">
          </a>
      </div>`;

    const ghbdages = document.getElementById("ghbdages");
    if (ghbdages) {
      ghbdages.innerHTML = currentTimeHtml;
    }
  }

  window.onload = renderBadge;
</script>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="https://unpkg.com/instant.page/instantpage.js" type="module"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://unpkg.com/mathjax/es5/tex-mml-chtml.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script src="https://cdn.jsdelivr.net/gh/xiabo2/CDN@latest/fishes.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://unpkg.com/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章..." type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>